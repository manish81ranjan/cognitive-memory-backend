<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>MRI Upload History • DEMNET</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-900 text-white flex items-center justify-center min-h-screen">
    <div class="bg-slate-800/70 p-6 rounded-2xl shadow-xl w-full max-w-lg">
        <h2 class="text-xl font-bold mb-4">MRI Upload History</h2>
        <ul class="space-y-2">
            {% for u in uploads %}
            <li class="p-2 rounded bg-slate-700/60">
                {{ u.uploaded_at.strftime('%Y-%m-%d') }} • {{ u.mri_id }}
                <!-- <a href="/static/uploads/{{ u.file_url }}" class="text-teal-400">View</a> -->
                 <a href="/report/{{ u.mri_id }}" class="text-cyan-400">View Report</a>
            </li>
            {% else %}
            <li class="text-slate-400">No MRI uploads yet.</li>
            {% endfor %}
        </ul>

        <a href="/auth" class="mt-4 inline-block text-sm text-slate-400 hover:underline">Back to Account</a>
    </div>

    <script>
        fetch("/api/mri-history")
            .then(r => r.json())
            .then(data => {
                if (data.status == "success") {
                    document.getElementById("mriList").innerHTML =
                        data.uploads.map(m => `
      <li class="p-3 rounded-xl bg-slate-700/50 flex justify-between">
        <span>${m.uploaded_at} • ${m.mri_type}</span>
        <a href="${m.file_url}" target="_blank" class="text-cyan-400">View</a>
      </li>
    `).join("");
                }
            });
    </script>

</body>

</html>